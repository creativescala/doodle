<!doctype html>
<html lang="">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Typelevel Laika" />
    <title>Drawing to the Screen</title>
    
    
    <meta name="description" content="docs" />
    
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400|Source+Sans+Pro:300,400,600"
        rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Crimson+Pro:400" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="../creative-scala.css" />
    <script src="../main.js"></script>
    <script> /* for avoiding page load transitions */</script>
</head>

<body>
    <nav id="topbar"><p><a href="text.html">←</a></p>
<p><a href="../../">Doodle</a></p>
<p><a href="writing.html">→</a></p></nav>
    <nav id="sidebar">
        <ul class="nav-list">
          <li class="level1 nav-leaf"><a href="../">Doodle</a></li>
          <li class="level1 nav-node"><a href="../concepts/">Core Concepts</a></li>
          <li class="level2 nav-leaf"><a href="../concepts/principles.html">Principles</a></li>
          <li class="level2 nav-leaf"><a href="../concepts/algebras.html">Algebras</a></li>
          <li class="level2 nav-leaf"><a href="../concepts/drawing-picture.html">Picture and Drawing</a></li>
          <li class="level2 nav-leaf"><a href="../concepts/picture-object.html">Picture Object</a></li>
          <li class="level2 nav-leaf"><a href="../concepts/syntax.html">Syntax</a></li>
          <li class="level2 nav-leaf"><a href="../concepts/frame-canvas.html">Frame and Canvas</a></li>
          <li class="level2 nav-leaf"><a href="../concepts/effects.html">Effects</a></li>
          <li class="level1 nav-node"><a href="index.html">Creating Pictures</a></li>
          <li class="level2 nav-leaf"><a href="picture-image.html">Picture and Image</a></li>
          <li class="level2 nav-leaf"><a href="shape.html">Shapes</a></li>
          <li class="level2 nav-leaf"><a href="path.html">Paths</a></li>
          <li class="level2 nav-leaf"><a href="layout.html">Layout</a></li>
          <li class="level2 nav-leaf"><a href="style.html">Style</a></li>
          <li class="level2 nav-leaf"><a href="transform.html">Transforms</a></li>
          <li class="level2 nav-leaf"><a href="size.html">Size</a></li>
          <li class="level2 nav-leaf"><a href="text.html">Text</a></li>
          <li class="level2 active nav-leaf"><a href="#">Drawing to the Screen</a></li>
          <li class="level2 nav-leaf"><a href="writing.html">Writing to a File</a></li>
          <li class="level2 nav-leaf"><a href="filter.html">Filter Effects</a></li>
          <li class="level1 nav-node"><a href="../core/">Core</a></li>
          <li class="level2 nav-leaf"><a href="../core/geometry.html">Geometry</a></li>
          <li class="level2 nav-leaf"><a href="../core/color.html">Color and Gradients</a></li>
          <li class="level1 nav-node"><a href="../interact/">Interactivity</a></li>
          <li class="level2 nav-leaf"><a href="../interact/animation.html">Animations</a></li>
          <li class="level2 nav-leaf"><a href="../interact/examples.html">Examples</a></li>
          <li class="level1 nav-node"><a href="../algebra/">Algebras</a></li>
          <li class="level2 nav-leaf"><a href="../algebra/using.html">Using Algebras</a></li>
          <li class="level2 nav-leaf"><a href="../algebra/picture.html">Picture</a></li>
          <li class="level2 nav-leaf"><a href="../algebra/algebras.html">Available Algebras</a></li>
          <li class="level1 nav-leaf"><a href="../effect/">Effects</a></li>
          <li class="level1 nav-leaf"><a href="../java2d/">Java2D Backend</a></li>
          <li class="level1 nav-leaf"><a href="../svg/">SVG Backend</a></li>
          <li class="level1 nav-node"><a href="../canvas/">Canvas Backend</a></li>
          <li class="level2 nav-leaf"><a href="../canvas/examples.html">Miscellaneous Examples</a></li>
          <li class="level2 nav-leaf"><a href="../canvas/layout-examples.html">Layout Examples</a></li>
          <li class="level2 nav-leaf"><a href="../canvas/style-examples.html">Style Examples</a></li>
          <li class="level1 nav-node"><a href="../development/">Developing Doodle</a></li>
          <li class="level2 nav-leaf"><a href="../development/design.html">Design</a></li>
          <li class="level2 nav-leaf"><a href="../development/process.html">Development Process</a></li>
          <li class="level2 nav-leaf"><a href="../development/syntax.html">Implementing Syntax</a></li>
          <li class="level2 nav-leaf"><a href="../development/backend.html">Implementing a Backend</a></li>
        </ul>
    </nav>

    <div id="content">
        <main class="content">
            <h1 id="drawing-to-the-screen" class="title">Drawing to the Screen</h1>
            <p>Drawing a picture to the screen is usually the end goal of using Doodle.
            The usual way to draw a <code>Picture</code> is by calling the <code>draw</code> method. Using the Java2D backend will produce output in a window, while the SVG backend can produce output inside a web page.</p>
            <p>The examples below use the Java2D backend, but the general principles work with other backends.</p>
            
            <h2 id="imports" class="section">Imports</h2>
            <p>You need the normal imports to do anything with Doodle. Here are the imports for <code>Picture</code> and the JVM backend.</p>
            <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">doodle</span><span>.</span><span class="identifier">core</span><span>.*
</span><span class="keyword">import</span><span> </span><span class="identifier">doodle</span><span>.</span><span class="identifier">syntax</span><span>.</span><span class="identifier">all</span><span>.*
</span><span class="keyword">import</span><span> </span><span class="identifier">doodle</span><span>.</span><span class="identifier">java2d</span><span>.*
</span><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">effect</span><span>.</span><span class="identifier">unsafe</span><span>.</span><span class="identifier">implicits</span><span>.</span><span class="identifier">global</span></code></pre>
            <p>For some of the examples below we also need</p>
            <pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">effect</span><span>.{</span><span class="type-name">IO</span><span>, </span><span class="type-name">Resource</span><span>}</span></code></pre>
            
            <h2 id="drawing" class="section">Drawing</h2>
            <p>The normal way to draw output is by calling the <code>draw</code> method.</p>
            <pre><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">picture</span><span> = </span><span class="type-name">Picture</span><span>.</span><span class="identifier">circle</span><span>(</span><span class="number-literal">100</span><span>).</span><span class="identifier">strokeColor</span><span>(</span><span class="type-name">Color</span><span>.</span><span class="identifier">crimson</span><span>)</span></code></pre>
            <pre><code class="nohighlight"><span class="identifier">picture</span><span>.</span><span class="identifier">draw</span><span>()</span></code></pre>
            <p>When using the Java2D, the output will appear in separate window.</p>
            <p>As explained <a href="../concepts/frame-canvas.html">in the concepts chapter</a>, Doodle has the concept of a frame and a canvas. A canvas is an area where a picture can be drawn, and a frame describes how to create a canvas. If you don&#39;t explicitly tell Doodle what frame you want, it uses a default. The default has a white background, is a little bit larger than the picture being drawn, and centers the picture in the middle of it.</p>
            <p>The Java2D <a class="api" href="https://javadoc.io/doc/org.creativescala/doodle-docs_3/latest/doodle/java2d/effect/Frame.html">Frame</a> allows you specify the size of the window, a background color, and more. Here&#39;s an example where we change the size and background color.</p>
            <pre><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">frame</span><span> = 
  </span><span class="type-name">Frame</span><span>.</span><span class="keyword">default</span><span>.</span><span class="identifier">withSize</span><span>(</span><span class="number-literal">300</span><span>, </span><span class="number-literal">300</span><span>).</span><span class="identifier">withBackground</span><span>(</span><span class="type-name">Color</span><span>.</span><span class="identifier">midnightBlue</span><span>)</span></code></pre>
            <p>Once we have a frame, we can pass it to <code>drawWithFrame</code>.</p>
            <pre><code class="nohighlight"><span class="identifier">picture</span><span>.</span><span class="identifier">drawWithFrame</span><span>(</span><span class="identifier">frame</span><span>)</span></code></pre>
            <p>Sometimes you&#39;ll want to draw several pictures on the same canvas. By repeatedly drawing to the same canvas we can, for example, create animations. To do this we need to work with the underling <code>IO</code> and <code>Resource</code> types that the conveniences above hide.</p>
            
            <h2 id="drawing-with-io-and-resource" class="section">Drawing with IO and Resource</h2>
            <p>It can be useful to convert a <code>Picture[A]</code> to an <code>IO[A]</code>. This could be because the picture is part of a larger program using <code>IO</code>, you are working with an <code>Resource[IO, Canvas]</code>, or you want to access the <code>A</code> value that is discarded by the <code>draw</code> variants discussed above. The <code>drawToIO</code> method does this conversion.</p>
            <pre><code class="nohighlight"><span class="identifier">picture</span><span>.</span><span class="identifier">drawToIO</span><span>()</span></code></pre>
            <p>There are also variants <code>drawWithFrameToIO</code> and <code>drawWithCanvasToIO</code>.</p>
            <pre><code class="nohighlight"><span class="identifier">picture</span><span>.</span><span class="identifier">drawWithFrameToIO</span><span>(</span><span class="identifier">frame</span><span>)</span></code></pre>
            <p>Using <code>drawWithCanvasToIO</code> requires we get hold of a <code>Canvas</code>. We call the <code>canvas()</code> method on a <code>Frame</code> to do so. This returns a <code>Resource[IO, Canvas]</code>.</p>
            <pre><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">canvas</span><span>: </span><span class="type-name">Resource</span><span>[</span><span class="type-name">IO</span><span>, </span><span class="type-name">Canvas</span><span>] = </span><span class="identifier">frame</span><span>.</span><span class="identifier">canvas</span><span>()</span></code></pre>
            <p>When we have a <code>Resource[IO, Canvas]</code> we can <code>use</code> it to access the <code>Canvas</code> it manages. This is the idiomatic way to work with a <code>Resource[IO, Canvas]</code>.</p>
            <pre><code class="nohighlight"><span class="identifier">canvas</span><span>.</span><span class="identifier">use</span><span>(</span><span class="identifier">c</span><span> =&gt; </span><span class="identifier">picture</span><span>.</span><span class="identifier">drawWithCanvasToIO</span><span>(</span><span class="identifier">c</span><span>))</span></code></pre>
            <p>Once you have an <code>IO</code>, you can run it in the usual way as part of an <code>IOApp</code>, with <code>unsafeRunSync</code>, or one of the other methods.</p>
            <p class="nextPage"><a href="writing.html">Writing to a File→</a></p>
        </main>
        <footer>Creative Scala is copyright Noel Welsh</footer>
    </div>

    </div>
</body>

</html>
