<!doctype html>
<html class="scroll-smooth"
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Laika 1.0.0" />
    <title>Drawing to the Screen</title>
     
    <meta name="description" content="docs" />
    
    <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?version=4.8.0&features=es6"></script>
    <script
      id="MathJax-script"
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
    ></script>
    <link
      href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400|Source+Sans+Pro:300,400,600"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Crimson+Pro:400"
      rel="stylesheet"
      type="text/css"
    />
    <link rel="stylesheet" type="text/css" href="../css/creative-scala.css" /> <script src="../js/solution.js"></script><script src="../main.js"></script>
    <script>
      /* for avoiding page load transitions */
    </script>
  </head>

  <body>
    <header>
      <div id="topbar">
        <nav id="topbar">
          <button
            class="text-sm text-pink-800 font-sans font-semibold hover:text-pink-600 focus:text-pink-600"
            popovertarget="topbar-nav"
          >
            Contents
          </button>
          <div id="topbar-nav" popover="auto">
            <div id="topbar-nav-container" class="flex justify-items-center items-center h-dvh w-dvw">
              <div
                class="p-4 mx-auto rounded-md bg-white border border-slate-900 max-h-4/5 w-4/5 overflow-y-auto overflow-x-auto flex flex-col items-end"
              >
                <button
                  class="text-slate-900 hover:text-pink-800 focus:text-pink-800"
                  popovertarget="topbar-nav"
                  popovertargetaction="hide"
                >
                  ✕
                </button>
                <div class="w-full">
                  <ul class="nav-list">
                    <li class="level1 nav-node"><a href="../">Doodle</a></li>
                    <li class="level2 nav-node"><a href="index.html">Creating Pictures</a></li>
                    <li class="level3 nav-leaf"><a href="picture-image.html">Picture and Image</a></li>
                    <li class="level3 nav-leaf"><a href="shape.html">Shapes</a></li>
                    <li class="level3 nav-leaf"><a href="path.html">Paths</a></li>
                    <li class="level3 nav-leaf"><a href="bitmap.html">Bitmaps</a></li>
                    <li class="level3 nav-leaf"><a href="layout.html">Layout</a></li>
                    <li class="level3 nav-leaf"><a href="style.html">Style</a></li>
                    <li class="level3 nav-leaf"><a href="transform.html">Transforms</a></li>
                    <li class="level3 nav-leaf"><a href="filter.html">Convolution Filters</a></li>
                    <li class="level3 nav-leaf"><a href="size.html">Size</a></li>
                    <li class="level3 nav-leaf"><a href="text.html">Text</a></li>
                    <li class="level3 active nav-leaf"><a href="#">Drawing to the Screen</a></li>
                    <li class="level3 nav-leaf"><a href="writing.html">Writing to a File</a></li>
                    <li class="level2 nav-node"><a href="../concepts/">Core Concepts</a></li>
                    <li class="level3 nav-leaf"><a href="../concepts/principles.html">Principles</a></li>
                    <li class="level3 nav-leaf"><a href="../concepts/algebras.html">Algebras</a></li>
                    <li class="level3 nav-leaf"><a href="../concepts/drawing-picture.html">Picture and Drawing</a></li>
                    <li class="level3 nav-leaf"><a href="../concepts/picture-object.html">Picture Object</a></li>
                    <li class="level3 nav-leaf"><a href="../concepts/syntax.html">Syntax</a></li>
                    <li class="level3 nav-leaf"><a href="../concepts/frame-canvas.html">Frame and Canvas</a></li>
                    <li class="level3 nav-leaf"><a href="../concepts/effects.html">Effects</a></li>
                    <li class="level2 nav-node"><a href="../interact/">Interactivity</a></li>
                    <li class="level3 nav-leaf"><a href="../interact/animation.html">Animations</a></li>
                    <li class="level3 nav-leaf"><a href="../interact/examples.html">Examples</a></li>
                    <li class="level2 nav-node"><a href="../reference/">Reference</a></li>
                    <li class="level3 nav-leaf"><a href="../reference/geometry.html">Geometry</a></li>
                    <li class="level3 nav-leaf"><a href="../reference/color.html">Color and Gradients</a></li>
                    <li class="level3 nav-leaf"><a href="../reference/effect.html">Effects</a></li>
                    <li class="level3 nav-leaf"><a href="../reference/picture.html">Picture</a></li>
                    <li class="level3 nav-leaf"><a href="../reference/using.html">Using Algebras</a></li>
                    <li class="level2 nav-node"><a href="../java2d/">Java2D Backend</a></li>
                    <li class="level3 nav-leaf"><a href="../java2d/bitmap.html">Bitmaps in Java2D</a></li>
                    <li class="level3 nav-leaf"><a href="../java2d/repl.html">Working at the REPL</a></li>
                    <li class="level2 nav-node"><a href="../svg/">SVG Backend</a></li>
                    <li class="level3 nav-leaf"><a href="../svg/bitmap.html">Bitmaps in SVG</a></li>
                    <li class="level3 nav-leaf"><a href="../svg/examples.html">Examples</a></li>
                    <li class="level2 nav-node"><a href="../canvas/">Canvas Backend</a></li>
                    <li class="level3 nav-leaf"><a href="../canvas/bitmap.html">Bitmaps in Canvas</a></li>
                    <li class="level3 nav-leaf"><a href="../canvas/examples.html">Miscellaneous Examples</a></li>
                    <li class="level3 nav-leaf"><a href="../canvas/layout-examples.html">Layout Examples</a></li>
                    <li class="level3 nav-leaf"><a href="../canvas/style-examples.html">Style Examples</a></li>
                    <li class="level3 nav-leaf"><a href="../canvas/text-examples.html">Text Examples</a></li>
                    <li class="level2 nav-node"><a href="../development/">Developing Doodle</a></li>
                    <li class="level3 nav-leaf"><a href="../development/design.html">Design</a></li>
                    <li class="level3 nav-leaf"><a href="../development/process.html">Development Process</a></li>
                    <li class="level3 nav-leaf"><a href="../development/syntax.html">Implementing Syntax</a></li>
                    <li class="level3 nav-leaf"><a href="../development/backend.html">Implementing a Backend</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </nav>
        <nav id="home"><a class="text-link" href="../">Doodle</a></nav>
        <nav id="external"><a href="https://discord.gg/rRhcFbJxVG">Community<span><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-square-arrow-out-up-right' > <path d='M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6' /> <path d='m21 3-9 9' /> <path d='M15 3h6v6' /> </svg></span></a> <a href="https://javadoc.io/doc/org.creativescala/doodle-docs_3/latest">API<span><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-square-arrow-out-up-right' > <path d='M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6' /> <path d='m21 3-9 9' /> <path d='M15 3h6v6' /> </svg></span></a> <a href="https://github.com/creativescala/doodle">Source<span><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='lucide lucide-square-arrow-out-up-right' > <path d='M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6' /> <path d='m21 3-9 9' /> <path d='M15 3h6v6' /> </svg></span></a></nav>
      </div>
    </header>

    <main class="max-w-8xl mx-auto my-8 min-h-screen flex">
      <!-- Left sticky table of contents -->
      <nav
        id="sitebar"
        class="hidden lg:block min-w-64 max-w-md mr-8 sticky top-24 self-start flex-shrink-0"
      >
        <div class="max-h-[calc(100vh-6rem)] overflow-y-auto">
          <ul class="nav-list">
            <li class="level1 nav-node"><a href="../">Doodle</a></li>
            <li class="level2 nav-node"><a href="index.html">Creating Pictures</a></li>
            <li class="level3 nav-leaf"><a href="picture-image.html">Picture and Image</a></li>
            <li class="level3 nav-leaf"><a href="shape.html">Shapes</a></li>
            <li class="level3 nav-leaf"><a href="path.html">Paths</a></li>
            <li class="level3 nav-leaf"><a href="bitmap.html">Bitmaps</a></li>
            <li class="level3 nav-leaf"><a href="layout.html">Layout</a></li>
            <li class="level3 nav-leaf"><a href="style.html">Style</a></li>
            <li class="level3 nav-leaf"><a href="transform.html">Transforms</a></li>
            <li class="level3 nav-leaf"><a href="filter.html">Convolution Filters</a></li>
            <li class="level3 nav-leaf"><a href="size.html">Size</a></li>
            <li class="level3 nav-leaf"><a href="text.html">Text</a></li>
            <li class="level3 active nav-leaf"><a href="#">Drawing to the Screen</a></li>
            <li class="level3 nav-leaf"><a href="writing.html">Writing to a File</a></li>
            <li class="level2 nav-node"><a href="../concepts/">Core Concepts</a></li>
            <li class="level3 nav-leaf"><a href="../concepts/principles.html">Principles</a></li>
            <li class="level3 nav-leaf"><a href="../concepts/algebras.html">Algebras</a></li>
            <li class="level3 nav-leaf"><a href="../concepts/drawing-picture.html">Picture and Drawing</a></li>
            <li class="level3 nav-leaf"><a href="../concepts/picture-object.html">Picture Object</a></li>
            <li class="level3 nav-leaf"><a href="../concepts/syntax.html">Syntax</a></li>
            <li class="level3 nav-leaf"><a href="../concepts/frame-canvas.html">Frame and Canvas</a></li>
            <li class="level3 nav-leaf"><a href="../concepts/effects.html">Effects</a></li>
            <li class="level2 nav-node"><a href="../interact/">Interactivity</a></li>
            <li class="level3 nav-leaf"><a href="../interact/animation.html">Animations</a></li>
            <li class="level3 nav-leaf"><a href="../interact/examples.html">Examples</a></li>
            <li class="level2 nav-node"><a href="../reference/">Reference</a></li>
            <li class="level3 nav-leaf"><a href="../reference/geometry.html">Geometry</a></li>
            <li class="level3 nav-leaf"><a href="../reference/color.html">Color and Gradients</a></li>
            <li class="level3 nav-leaf"><a href="../reference/effect.html">Effects</a></li>
            <li class="level3 nav-leaf"><a href="../reference/picture.html">Picture</a></li>
            <li class="level3 nav-leaf"><a href="../reference/using.html">Using Algebras</a></li>
            <li class="level2 nav-node"><a href="../java2d/">Java2D Backend</a></li>
            <li class="level3 nav-leaf"><a href="../java2d/bitmap.html">Bitmaps in Java2D</a></li>
            <li class="level3 nav-leaf"><a href="../java2d/repl.html">Working at the REPL</a></li>
            <li class="level2 nav-node"><a href="../svg/">SVG Backend</a></li>
            <li class="level3 nav-leaf"><a href="../svg/bitmap.html">Bitmaps in SVG</a></li>
            <li class="level3 nav-leaf"><a href="../svg/examples.html">Examples</a></li>
            <li class="level2 nav-node"><a href="../canvas/">Canvas Backend</a></li>
            <li class="level3 nav-leaf"><a href="../canvas/bitmap.html">Bitmaps in Canvas</a></li>
            <li class="level3 nav-leaf"><a href="../canvas/examples.html">Miscellaneous Examples</a></li>
            <li class="level3 nav-leaf"><a href="../canvas/layout-examples.html">Layout Examples</a></li>
            <li class="level3 nav-leaf"><a href="../canvas/style-examples.html">Style Examples</a></li>
            <li class="level3 nav-leaf"><a href="../canvas/text-examples.html">Text Examples</a></li>
            <li class="level2 nav-node"><a href="../development/">Developing Doodle</a></li>
            <li class="level3 nav-leaf"><a href="../development/design.html">Design</a></li>
            <li class="level3 nav-leaf"><a href="../development/process.html">Development Process</a></li>
            <li class="level3 nav-leaf"><a href="../development/syntax.html">Implementing Syntax</a></li>
            <li class="level3 nav-leaf"><a href="../development/backend.html">Implementing a Backend</a></li>
          </ul>
        </div>
      </nav>
      <div id="contentbar" class="mx-auto flex-1">
        <div class="max-w-prose mx-auto">
          <div id="content"><h1 id="drawing-to-the-screen" class="title">Drawing to the Screen</h1>
<p>Drawing a picture to the screen is usually the end goal of using Doodle.
The usual way to draw a <code>Picture</code> is by calling the <code>draw</code> method. Using the Java2D backend will produce output in a window, while the SVG backend can produce output inside a web page.</p>
<p>The examples below use the Java2D backend, but the general principles work with other backends.</p>

<h2 id="imports" class="section">Imports</h2>
<p>You need the normal imports to do anything with Doodle. Here are the imports for <code>Picture</code> and the JVM backend.</p>
<pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">doodle</span><span>.</span><span class="identifier">core</span><span>.*
</span><span class="keyword">import</span><span> </span><span class="identifier">doodle</span><span>.</span><span class="identifier">syntax</span><span>.</span><span class="identifier">all</span><span>.*
</span><span class="keyword">import</span><span> </span><span class="identifier">doodle</span><span>.</span><span class="identifier">java2d</span><span>.*
</span><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">effect</span><span>.</span><span class="identifier">unsafe</span><span>.</span><span class="identifier">implicits</span><span>.</span><span class="identifier">global</span></code></pre>
<p>For some of the examples below we also need</p>
<pre><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">cats</span><span>.</span><span class="identifier">effect</span><span>.{</span><span class="type-name">IO</span><span>, </span><span class="type-name">Resource</span><span>}</span></code></pre>

<h2 id="drawing" class="section">Drawing</h2>
<p>The normal way to draw output is by calling the <code>draw</code> method.</p>
<pre><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">picture</span><span> = </span><span class="type-name">Picture</span><span>.</span><span class="identifier">circle</span><span>(</span><span class="number-literal">100</span><span>).</span><span class="identifier">strokeColor</span><span>(</span><span class="type-name">Color</span><span>.</span><span class="identifier">crimson</span><span>)</span></code></pre>
<pre><code class="nohighlight"><span class="identifier">picture</span><span>.</span><span class="identifier">draw</span><span>()</span></code></pre>
<p>When using the Java2D, the output will appear in separate window.</p>
<p>As explained <a href="../concepts/frame-canvas.html">in the concepts chapter</a>, Doodle has the concept of a frame and a canvas. A canvas is an area where a picture can be drawn, and a frame describes how to create a canvas. If you don&#39;t explicitly tell Doodle what frame you want, it uses a default. The default has a white background, is a little bit larger than the picture being drawn, and centers the picture in the middle of it.</p>
<p>The Java2D <a class="api" href="https://javadoc.io/doc/org.creativescala/doodle-docs_3/latest/doodle/java2d/effect/Frame.html">Frame</a> allows you specify the size of the window, a background color, and more. Here&#39;s an example where we change the size and background color.</p>
<pre><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">frame</span><span> = 
  </span><span class="type-name">Frame</span><span>.</span><span class="keyword">default</span><span>.</span><span class="identifier">withSize</span><span>(</span><span class="number-literal">300</span><span>, </span><span class="number-literal">300</span><span>).</span><span class="identifier">withBackground</span><span>(</span><span class="type-name">Color</span><span>.</span><span class="identifier">midnightBlue</span><span>)</span></code></pre>
<p>Once we have a frame, we can pass it to <code>drawWithFrame</code>.</p>
<pre><code class="nohighlight"><span class="identifier">picture</span><span>.</span><span class="identifier">drawWithFrame</span><span>(</span><span class="identifier">frame</span><span>)</span></code></pre>
<p>Sometimes you&#39;ll want to draw several pictures on the same canvas. By repeatedly drawing to the same canvas we can, for example, create animations. To do this we need to work with the underling <code>IO</code> and <code>Resource</code> types that the conveniences above hide.</p>

<h2 id="drawing-with-io-and-resource" class="section">Drawing with IO and Resource</h2>
<p>It can be useful to convert a <code>Picture[A]</code> to an <code>IO[A]</code>. This could be because the picture is part of a larger program using <code>IO</code>, you are working with an <code>Resource[IO, Canvas]</code>, or you want to access the <code>A</code> value that is discarded by the <code>draw</code> variants discussed above. The <code>drawToIO</code> method does this conversion.</p>
<pre><code class="nohighlight"><span class="identifier">picture</span><span>.</span><span class="identifier">drawToIO</span><span>()</span></code></pre>
<p>There are also variants <code>drawWithFrameToIO</code> and <code>drawWithCanvasToIO</code>.</p>
<pre><code class="nohighlight"><span class="identifier">picture</span><span>.</span><span class="identifier">drawWithFrameToIO</span><span>(</span><span class="identifier">frame</span><span>)</span></code></pre>
<p>Using <code>drawWithCanvasToIO</code> requires we get hold of a <code>Canvas</code>. We call the <code>canvas()</code> method on a <code>Frame</code> to do so. This returns a <code>Resource[IO, Canvas]</code>.</p>
<pre><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">canvas</span><span>: </span><span class="type-name">Resource</span><span>[</span><span class="type-name">IO</span><span>, </span><span class="type-name">Canvas</span><span>] = </span><span class="identifier">frame</span><span>.</span><span class="identifier">canvas</span><span>()</span></code></pre>
<p>When we have a <code>Resource[IO, Canvas]</code> we can <code>use</code> it to access the <code>Canvas</code> it manages. This is the idiomatic way to work with a <code>Resource[IO, Canvas]</code>.</p>
<pre><code class="nohighlight"><span class="identifier">canvas</span><span>.</span><span class="identifier">use</span><span>(</span><span class="identifier">c</span><span> =&gt; </span><span class="identifier">picture</span><span>.</span><span class="identifier">drawWithCanvasToIO</span><span>(</span><span class="identifier">c</span><span>))</span></code></pre>
<p>Once you have an <code>IO</code>, you can run it in the usual way as part of an <code>IOApp</code>, with <code>unsafeRunSync</code>, or one of the other methods.</p></div>
          <div class="flex flex-row justify-between">
            <a class="pagenav" href="text.html">←Text</a> <a class="pagenav" href="writing.html">Writing to a File→</a>
          </div>
        </div>
        <footer>
          Copyright &copy; Noel Welsh. Built with
          <span class="hover:text-pink-900">💖</span>
        </footer>
      </div>
      <!-- Right sticky page contents -->
      <nav
        id="pagebar"
        class="hidden lg:block min-w-60 max-w-64 ml-8 sticky top-24 self-start flex-shrink-0"
      >
        <div class="max-h-[calc(100vh-6rem)] overflow-y-auto">
          <p>On This Page</p>
          <ul class="nav-list">
            <li class="level1 nav-leaf"><a href="#imports">Imports</a></li>
            <li class="level1 nav-leaf"><a href="#drawing">Drawing</a></li>
            <li class="level1 nav-leaf"><a href="#drawing-with-io-and-resource">Drawing with IO and Resource</a></li>
          </ul>
        </div>
      </nav>
    </main>
  </body>
</html>
